Names={
'S028'...
'S033'...
'S034'...
'S037'...
'S040'...
'S041'...
'S042'...
'S043'...
'S044'...
'S047'...
'S048'...
'S049'...
'S056'...
'S058'...
'S059'...
'S060'...
'S062'...
'S064'...
'S065'...
'S068'...
'S069'...
'S070'...
'S072'...
'S073'...
'S074'...
'S075'...
'S077'...
'S078'...
'S080'...
'S081'...
'S082'...
'S084'...
'S085'...
'S089'...
'S090'...
'S091'...
'S098'...
'S099'...
'S100'...
'S101'...
'S102'...
'S103'...
'S105'...
'S106'...
'S107'...
'S108'...
};

for i=1:length(Names)
% fg=load(['G:\Cortical_spinalcord\FiberTracts\tha_spinalcordFiberTracts\',Names{i},'\',Names{i},'_tha_spinal_seg.mat']);
fg=load('G:\Cortical_spinalcord\FiberTracts\tha_x_Tracts\S034\tha_acc\tha_acc_seg_R.mat');
fg.fibers=fg.Tracts;
fg.fibers=fg.fibers';
fg=rmfield(fg,'Tracts');
for j=1:length(fg.fibers)
    fg.fibers{j,1}=fg.fibers{j,1}';
end
    %要求输入3*N的矩阵
numNodes=50;
fg_out = Brain_Spinal_dtiReorientFibers(fg, numNodes);
% fg_out=rmfield(fg_out,'Tracts');
save(['G:\Cortical_spinalcord\FiberTracts\tha_spinalcordFiberTracts\',Names{i},'\',Names{i},'_tha_spinal_seg_resample50.mat'],'fg_out')
end

